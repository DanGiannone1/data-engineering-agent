import tiktoken

# All GitHub MCP server tools - ACTUAL raw text from my system prompt
# This is exactly as it appears in my <functions> section
github_tools_text = """<function>{"description": "Get details about specific GitHub Actions resources.\\nUse this tool to get details about individual workflows, workflow runs, jobs, and artifacts by their unique IDs.\\n", "name": "github-mcp-server-actions_get", "parameters": {"properties": {"method": {"description": "The method to execute", "enum": ["get_workflow", "get_workflow_run", "get_workflow_job", "download_workflow_run_artifact", "get_workflow_run_usage", "get_workflow_run_logs_url"], "type": "string"}, "owner": {"description": "Repository owner", "type": "string"}, "repo": {"description": "Repository name", "type": "string"}, "resource_id": {"description": "The unique identifier of the resource. This will vary based on the \\"method\\" provided, so ensure you provide the correct ID:\\n- Provide a workflow ID or workflow file name (e.g. ci.yaml) for 'get_workflow' method.\\n- Provide a workflow run ID for 'get_workflow_run', 'get_workflow_run_usage', and 'get_workflow_run_logs_url' methods.\\n- Provide an artifact ID for 'download_workflow_run_artifact' method.\\n- Provide a job ID for 'get_workflow_job' method.\\n", "type": "string"}}, "required": ["method", "owner", "repo", "resource_id"], "type": "object"}}</function>
<function>{"description": "Tools for listing GitHub Actions resources.\\nUse this tool to list workflows in a repository, or list workflow runs, jobs, and artifacts for a specific workflow or workflow run.\\n", "name": "github-mcp-server-actions_list", "parameters": {"properties": {"method": {"description": "The action to perform", "enum": ["list_workflows", "list_workflow_runs", "list_workflow_jobs", "list_workflow_run_artifacts"], "type": "string"}, "owner": {"description": "Repository owner", "type": "string"}, "page": {"description": "Page number for pagination (default: 1)", "minimum": 1, "type": "number"}, "per_page": {"description": "Results per page for pagination (default: 30, max: 100)", "maximum": 100, "minimum": 1, "type": "number"}, "repo": {"description": "Repository name", "type": "string"}, "resource_id": {"description": "The unique identifier of the resource. This will vary based on the \\"method\\" provided, so ensure you provide the correct ID:\\n- Do not provide any resource ID for 'list_workflows' method.\\n- Provide a workflow ID or workflow file name (e.g. ci.yaml) for 'list_workflow_runs' method, or omit to list all workflow runs in the repository.\\n- Provide a workflow run ID for 'list_workflow_jobs' and 'list_workflow_run_artifacts' methods.\\n", "type": "string"}, "workflow_jobs_filter": {"description": "Filters for workflow jobs. **ONLY** used when method is 'list_workflow_jobs'", "properties": {"filter": {"description": "Filters jobs by their completed_at timestamp", "enum": ["latest", "all"], "type": "string"}}, "type": "object"}, "workflow_runs_filter": {"description": "Filters for workflow runs. **ONLY** used when method is 'list_workflow_runs'", "properties": {"actor": {"description": "Filter to a specific GitHub user's workflow runs.", "type": "string"}, "branch": {"description": "Filter workflow runs to a specific Git branch. Use the name of the branch.", "type": "string"}, "event": {"description": "Filter workflow runs to a specific event type", "enum": ["branch_protection_rule", "check_run", "check_suite", "create", "delete", "deployment", "deployment_status", "discussion", "discussion_comment", "fork", "gollum", "issue_comment", "issues", "label", "merge_group", "milestone", "page_build", "public", "pull_request", "pull_request_review", "pull_request_review_comment", "pull_request_target", "push", "registry_package", "release", "repository_dispatch", "schedule", "status", "watch", "workflow_call", "workflow_dispatch", "workflow_run"], "type": "string"}, "status": {"description": "Filter workflow runs to only runs with a specific status", "enum": ["queued", "in_progress", "completed", "requested", "waiting"], "type": "string"}}, "type": "object"}}, "required": ["method", "owner", "repo"], "type": "object"}}</function>
<function>{"description": "Get details for a commit from a GitHub repository", "name": "github-mcp-server-get_commit", "parameters": {"properties": {"include_diff": {"default": true, "description": "Whether to include file diffs and stats in the response. Default is true.", "type": "boolean"}, "owner": {"description": "Repository owner", "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "repo": {"description": "Repository name", "type": "string"}, "sha": {"description": "Commit SHA, branch name, or tag name", "type": "string"}}, "required": ["owner", "repo", "sha"], "type": "object"}}</function>
<function>{"description": "This tool can be used to provide additional context to the chat from a specific Copilot space. If user mentioned the keyword 'Copilot space' with the name and owner of the space, execute this tool.", "name": "github-mcp-server-get_copilot_space", "parameters": {"properties": {"name": {"description": "The name of the space", "type": "string"}, "owner": {"description": "The owner of the space", "type": "string"}}, "required": ["owner", "name"], "type": "object"}}</function>
<function>{"description": "Get the contents of a file or directory from a GitHub repository", "name": "github-mcp-server-get_file_contents", "parameters": {"properties": {"owner": {"description": "Repository owner (username or organization)", "type": "string"}, "path": {"default": "/", "description": "Path to file/directory", "type": "string"}, "ref": {"description": "Accepts optional git refs such as `refs/tags/{tag}`, `refs/heads/{branch}` or `refs/pull/{pr_number}/head`", "type": "string"}, "repo": {"description": "Repository name", "type": "string"}, "sha": {"description": "Accepts optional commit SHA. If specified, it will be used instead of ref", "type": "string"}}, "required": ["owner", "repo"], "type": "object"}}</function>
<function>{"description": "Get logs for GitHub Actions workflow jobs.\\nUse this tool to retrieve logs for a specific job or all failed jobs in a workflow run.\\nFor single job logs, provide job_id. For all failed jobs in a run, provide run_id with failed_only=true.\\n", "name": "github-mcp-server-get_job_logs", "parameters": {"properties": {"failed_only": {"description": "When true, gets logs for all failed jobs in the workflow run specified by run_id. Requires run_id to be provided.", "type": "boolean"}, "job_id": {"description": "The unique identifier of the workflow job. Required when getting logs for a single job.", "type": "number"}, "owner": {"description": "Repository owner", "type": "string"}, "repo": {"description": "Repository name", "type": "string"}, "return_content": {"description": "Returns actual log content instead of URLs", "type": "boolean"}, "run_id": {"description": "The unique identifier of the workflow run. Required when failed_only is true to get logs for all failed jobs in the run.", "type": "number"}, "tail_lines": {"default": 500, "description": "Number of lines to return from the end of the log", "type": "number"}}, "required": ["owner", "repo"], "type": "object"}}</function>
<function>{"description": "Get information about a specific issue in a GitHub repository.", "name": "github-mcp-server-issue_read", "parameters": {"properties": {"issue_number": {"description": "The number of the issue", "type": "number"}, "method": {"description": "The read operation to perform on a single issue.\\nOptions are:\\n1. get - Get details of a specific issue.\\n2. get_comments - Get issue comments.\\n3. get_sub_issues - Get sub-issues of the issue.\\n4. get_labels - Get labels assigned to the issue.\\n", "enum": ["get", "get_comments", "get_sub_issues", "get_labels"], "type": "string"}, "owner": {"description": "The owner of the repository", "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "repo": {"description": "The name of the repository", "type": "string"}}, "required": ["method", "owner", "repo", "issue_number"], "type": "object"}}</function>
<function>{"description": "List branches in a GitHub repository", "name": "github-mcp-server-list_branches", "parameters": {"properties": {"owner": {"description": "Repository owner", "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "repo": {"description": "Repository name", "type": "string"}}, "required": ["owner", "repo"], "type": "object"}}</function>
<function>{"description": "Get list of commits of a branch in a GitHub repository. Returns at least 30 results per page by default, but can return more if specified using the perPage parameter (up to 100).", "name": "github-mcp-server-list_commits", "parameters": {"properties": {"author": {"description": "Author username or email address to filter commits by", "type": "string"}, "owner": {"description": "Repository owner", "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "repo": {"description": "Repository name", "type": "string"}, "sha": {"description": "Commit SHA, branch or tag name to list commits of. If not provided, uses the default branch of the repository. If a commit SHA is provided, will list commits up to that SHA.", "type": "string"}}, "required": ["owner", "repo"], "type": "object"}}</function>
<function>{"description": "List issues in a GitHub repository. For pagination, use the 'endCursor' from the previous response's 'pageInfo' in the 'after' parameter.", "name": "github-mcp-server-list_issues", "parameters": {"properties": {"after": {"description": "Cursor for pagination. Use the endCursor from the previous page's PageInfo for GraphQL APIs.", "type": "string"}, "direction": {"description": "Order direction. If provided, the 'orderBy' also needs to be provided.", "enum": ["ASC", "DESC"], "type": "string"}, "labels": {"description": "Filter by labels", "items": {"type": "string"}, "type": "array"}, "orderBy": {"description": "Order issues by field. If provided, the 'direction' also needs to be provided.", "enum": ["CREATED_AT", "UPDATED_AT", "COMMENTS"], "type": "string"}, "owner": {"description": "Repository owner", "type": "string"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "repo": {"description": "Repository name", "type": "string"}, "since": {"description": "Filter by date (ISO 8601 timestamp)", "type": "string"}, "state": {"description": "Filter by state, by default both open and closed issues are returned when not provided", "enum": ["OPEN", "CLOSED"], "type": "string"}}, "required": ["owner", "repo"], "type": "object"}}</function>
<function>{"description": "List pull requests in a GitHub repository. If the user specifies an author, then DO NOT use this tool and use the search_pull_requests tool instead.", "name": "github-mcp-server-list_pull_requests", "parameters": {"properties": {"base": {"description": "Filter by base branch", "type": "string"}, "direction": {"description": "Sort direction", "enum": ["asc", "desc"], "type": "string"}, "head": {"description": "Filter by head user/org and branch", "type": "string"}, "owner": {"description": "Repository owner", "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "repo": {"description": "Repository name", "type": "string"}, "sort": {"description": "Sort by", "enum": ["created", "updated", "popularity", "long-running"], "type": "string"}, "state": {"description": "Filter by state", "enum": ["open", "closed", "all"], "type": "string"}}, "required": ["owner", "repo"], "type": "object"}}</function>
<function>{"description": "Get information on a specific pull request in GitHub repository.", "name": "github-mcp-server-pull_request_read", "parameters": {"properties": {"method": {"description": "Action to specify what pull request data needs to be retrieved from GitHub. \\nPossible options: \\n 1. get - Get details of a specific pull request.\\n 2. get_diff - Get the diff of a pull request.\\n 3. get_status - Get status of a head commit in a pull request. This reflects status of builds and checks.\\n 4. get_files - Get the list of files changed in a pull request. Use with pagination parameters to control the number of results returned.\\n 5. get_review_comments - Get review threads on a pull request. Each thread contains logically grouped review comments made on the same code location during pull request reviews. Returns threads with metadata (isResolved, isOutdated, isCollapsed) and their associated comments. Use cursor-based pagination (perPage, after) to control results.\\n 6. get_reviews - Get the reviews on a pull request. When asked for review comments, use get_review_comments method.\\n 7. get_comments - Get comments on a pull request. Use this if user doesn't specifically want review comments. Use with pagination parameters to control the number of results returned.\\n", "enum": ["get", "get_diff", "get_status", "get_files", "get_review_comments", "get_reviews", "get_comments"], "type": "string"}, "owner": {"description": "Repository owner", "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "pullNumber": {"description": "Pull request number", "type": "number"}, "repo": {"description": "Repository name", "type": "string"}}, "required": ["method", "owner", "repo", "pullNumber"], "type": "object"}}</function>
<function>{"description": "Fast and precise code search across ALL GitHub repositories using GitHub's native search engine. Best for finding exact symbols, functions, classes, or specific code patterns.", "name": "github-mcp-server-search_code", "parameters": {"properties": {"order": {"description": "Sort order for results", "enum": ["asc", "desc"], "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "query": {"description": "Search query using GitHub's powerful code search syntax. Examples: 'content:Skill language:Java org:github', 'NOT is:archived language:Python OR language:go', 'repo:github/github-mcp-server'. Supports exact matching, language filters, path filters, and more.", "type": "string"}, "sort": {"description": "Sort field ('indexed' only)", "type": "string"}}, "required": ["query"], "type": "object"}}</function>
<function>{"description": "Search for issues in GitHub repositories using issues search syntax already scoped to is:issue", "name": "github-mcp-server-search_issues", "parameters": {"properties": {"order": {"description": "Sort order", "enum": ["asc", "desc"], "type": "string"}, "owner": {"description": "Optional repository owner. If provided with repo, only issues for this repository are listed.", "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "query": {"description": "Search query using GitHub issues search syntax", "type": "string"}, "repo": {"description": "Optional repository name. If provided with owner, only issues for this repository are listed.", "type": "string"}, "sort": {"description": "Sort field by number of matches of categories, defaults to best match", "enum": ["comments", "reactions", "reactions-+1", "reactions--1", "reactions-smile", "reactions-thinking_face", "reactions-heart", "reactions-tada", "interactions", "created", "updated"], "type": "string"}}, "required": ["query"], "type": "object"}}</function>
<function>{"description": "Search for pull requests in GitHub repositories using issues search syntax already scoped to is:pr", "name": "github-mcp-server-search_pull_requests", "parameters": {"properties": {"order": {"description": "Sort order", "enum": ["asc", "desc"], "type": "string"}, "owner": {"description": "Optional repository owner. If provided with repo, only pull requests for this repository are listed.", "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "query": {"description": "Search query using GitHub pull request search syntax", "type": "string"}, "repo": {"description": "Optional repository name. If provided with owner, only pull requests for this repository are listed.", "type": "string"}, "sort": {"description": "Sort field by number of matches of categories, defaults to best match", "enum": ["comments", "reactions", "reactions-+1", "reactions--1", "reactions-smile", "reactions-thinking_face", "reactions-heart", "reactions-tada", "interactions", "created", "updated"], "type": "string"}}, "required": ["query"], "type": "object"}}</function>
<function>{"description": "Find GitHub repositories by name, description, readme, topics, or other metadata. Perfect for discovering projects, finding examples, or locating specific repositories across GitHub.", "name": "github-mcp-server-search_repositories", "parameters": {"properties": {"minimal_output": {"default": true, "description": "Return minimal repository information (default: true). When false, returns full GitHub API repository objects.", "type": "boolean"}, "order": {"description": "Sort order", "enum": ["asc", "desc"], "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "query": {"description": "Repository search query. Examples: 'machine learning in:name stars:>1000 language:python', 'topic:react', 'user:facebook'. Supports advanced search syntax for precise filtering.", "type": "string"}, "sort": {"description": "Sort repositories by field, defaults to best match", "enum": ["stars", "forks", "help-wanted-issues", "updated"], "type": "string"}}, "required": ["query"], "type": "object"}}</function>
<function>{"description": "Find GitHub users by username, real name, or other profile information. Useful for locating developers, contributors, or team members.", "name": "github-mcp-server-search_users", "parameters": {"properties": {"order": {"description": "Sort order", "enum": ["asc", "desc"], "type": "string"}, "page": {"description": "Page number for pagination (min 1)", "minimum": 1, "type": "number"}, "perPage": {"description": "Results per page for pagination (min 1, max 100)", "maximum": 100, "minimum": 1, "type": "number"}, "query": {"description": "User search query. Examples: 'john smith', 'location:seattle', 'followers:>100'. Search is automatically scoped to type:user.", "type": "string"}, "sort": {"description": "Sort users by number of followers or repositories, or when the person joined GitHub.", "enum": ["followers", "repositories", "joined"], "type": "string"}}, "required": ["query"], "type": "object"}}</function>"""

# Initialize tiktoken encoder for Claude (uses cl100k_base encoding)
encoder = tiktoken.get_encoding("cl100k_base")

# Count tokens
tokens = encoder.encode(github_tools_text)
token_count = len(tokens)

# Count number of <function> tags to get tool count
tool_count = github_tools_text.count('<function>')

print(f"GitHub MCP Server Tools Token Count")
print(f"=" * 50)
print(f"Number of tools: {tool_count}")
print(f"Total tokens: {token_count:,}")
print(f"Average tokens per tool: {token_count // tool_count:,}")
print(f"\nCharacter count: {len(github_tools_text):,}")
print(f"Tokens/Characters ratio: {token_count / len(github_tools_text):.2f}")
